# python_dev_mamontov_mikhail

## Описание

Данный проект представляет собой серверное приложение с использованием базы данных SQLite, с возможностью выполнения миграций с помощью SQLAlchemy и Alembic, а также создания и обработки данных с помощью Pandas. API написано с использованием FastAPI и запускается через сервер Uvicorn.

## Используемые технологии

- **SQLite** - для хранения данных.
- **SQLAlchemy** - для описания моделей баз данных.
- **Alembic** - для миграций баз данных и их дальнейшего обновления.
- **Pandas** - для создания и обработки датасетов.
- **FastAPI** - для создания API.
- **Uvicorn** - для запуска сервера.

## Описание проекта

В ходе разработки этого проекта был выбран SQLite в качестве базы данных. Для удобства работы с базой данных использовалась библиотека SQLAlchemy, которая позволяет легко описывать модели и работать с данными. Миграции баз данных были реализованы с помощью Alembic, что позволяет удобно обновлять структуру базы данных.

Одной из проблем, с которой я столкнулся в процессе реализации, была необходимость получения информации о том, к какому именно посту был оставлен комментарий пользователем. Для решения этой задачи в таблицу `logs` был добавлен новый столбец `entity_id`, который указывает на индекс поста в таблице `post`.

Для создания и обработки различных датасетов использовалась библиотека Pandas.

API было реализовано с использованием FastAPI, а сервер запускается через Uvicorn для быстрой и эффективной работы.

## Миграции баз данных

Чтобы выполнить миграции для баз данных, из корневой директории проекта выполняются следующие команды:

### Для базы данных `authors`:
```bash
alembic -c "migrations/authors/alembic.ini" revision --autogenerate -m  "migration's name"
alembic -c "migrations/authors/alembic.ini" upgrade head
```
### Для базы данных `logging`:
```bash
alembic -c "migrations/logs/alembic.ini" revision --autogenerate -m  "migration's name"
alembic -c "migrations/logs/alembic.ini" upgrade head
```

## Все зависимости проекта указаны в файле requirements.txt
```bash
pip install -r requirements.txt
```

### Для запуска сервера используется команда: (выполняется из корневой дирректории проекта)
```bash
uvicorn src.main:app --reload
```